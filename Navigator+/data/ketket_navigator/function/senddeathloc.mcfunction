execute as @s at @s run execute store result score @s x_ket_death run data get entity @s LastDeathLocation.pos[0]
execute as @s at @s run execute store result score @s y_ket_death run data get entity @s LastDeathLocation.pos[1]
execute as @s at @s run execute store result score @s z_ket_death run data get entity @s LastDeathLocation.pos[2]

execute as @s in overworld if entity @s[distance=..0.1,nbt={Dimension:"minecraft:overworld"}] run tellraw @a ["", "[", {"selector": "@s"}, "] ", "I died at [", {"score": {"name": "@s", "objective": "x_ket_death"}, "color": "green", "insertion": "{\"score\":{\"name\":\"@s\",\"objective\":\"x_ket\"}", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "green"}]}}, {"text": ",", "color": "green", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "green"}]}}, {"score": {"name": "@s", "objective": "y_ket_death"}, "color": "green", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "green"}]}}, {"text": ",", "color": "green", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "green"}]}}, {"score": {"name": "@s", "objective": "z_ket_death"}, "color": "green", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "green"}]}},"]"]
execute as @s in the_nether if entity @s[distance=..0.1,nbt={Dimension:"minecraft:the_nether"}] run tellraw @a ["", "[", {"selector": "@s"}, "] ", "I died at [", {"score": {"name": "@s", "objective": "x_ket_death"}, "color": "red", "insertion": "{\"score\":{\"name\":\"@s\",\"objective\":\"x_ket\"}", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "red"}]}}, {"text": ",", "color": "red", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "red"}]}}, {"score": {"name": "@s", "objective": "y_ket_death"}, "color": "red", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "red"}]}}, {"text": ",", "color": "red", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "red"}]}}, {"score": {"name": "@s", "objective": "z_ket_death"}, "color": "red", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "red"}]}},"]"]
execute as @s in minecraft:the_end if entity @s[distance=..0.1,nbt={Dimension:"minecraft:the_end"}] run tellraw @a ["", "[", {"selector": "@s"}, "] ", "I died at [", {"score": {"name": "@s", "objective": "x_ket_death"}, "color": "dark_purple", "insertion": "{\"score\":{\"name\":\"@s\",\"objective\":\"x_ket\"}", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "dark_purple"}]}}, {"text": ",", "color": "dark_purple", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "dark_purple"}]}}, {"score": {"name": "@s", "objective": "y_ket_death"}, "color": "dark_purple", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "dark_purple"}]}}, {"text": ",", "color": "dark_purple", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "dark_purple"}]}}, {"score": {"name": "@s", "objective": "z_ket_death"}, "color": "dark_purple", "clickEvent": {"action": "suggest_command", "value": "/tp @s"}, "hoverEvent": {"action": "show_text", "contents": [{"text": "Click here for teleport command", "color": "dark_purple"}]}},"]"]
execute as @s run scoreboard players set @s death_k 0